SET TERMOUT ON
PROMPT Building demonstration tables.  Please wait.

DROP TABLE HOTEL;
DROP TABLE ROOM;
DROP TABLE ROOMNUMBER;
DROP TABLE BOOKING;
DROP TABLE GUEST;
DROP TABLE ROOMTYPE;

CREATE TABLE HOTEL
	(NORA NUMBER(3) NOT NULL,
	NORC NUMBER(3));

CREATE TABLE ROOMTYPE
    (ROOMNUM NUMBER(3) PRIMARY KEY,
    ROOMTYPE VARCHAR(10));

CREATE TABLE ROOM
    (ROOMNUM NUMBER(3) REFERENCES ROOMTYPE(ROOMNUM),
    BASICPRICE NUMBER(4),
    ROOMCAP NUMBER(2));

CREATE TABLE ROOMNUMBER
    (ROOMNUM NUMBER(3) REFERENCES ROOMTYPE(ROOMNUM),
    ROOMAVAIL NUMBER(2)); 

CREATE TABLE GUEST
    (GID NUMBER(3) PRIMARY KEY,
    FNAME VARCHAR(20),
    LNAME VARCHAR(20),
    AGROUP NUMBER(1));

CREATE TABLE BOOKING
    (BID NUMBER(3) PRIMARY KEY,
    GID NUMBER(3) REFERENCES GUEST(GID) NOT NULL,
    ROOMNUM NUMBER(3) REFERENCES ROOMTYPE(ROOMNUM) NOT NUll,
    CINDATE DATE,
    COUTDATE DATE,
    NOG NUMBER(1));

BEGIN
  FOR count IN 1..33 LOOP
    INSERT INTO ROOMTYPE (ROOMNUM, ROOMTYPE) VALUES (count, 'superior');
    INSERT INTO ROOM (ROOMNUM, BASICPRICE, ROOMCAP) VALUES (count, 170, 3);
  END LOOP;
END;
/
BEGIN
  FOR i IN 34..66 LOOP
    INSERT INTO ROOMTYPE (ROOMNUM, ROOMTYPE) VALUES (i, 'deluxe');
    INSERT INTO ROOM (ROOMNUM, BASICPRICE, ROOMCAP) VALUES (i, 200, 2);
  END LOOP;
END;
/
BEGIN
  FOR j IN 67..100 LOOP
    INSERT INTO ROOMTYPE (ROOMNUM, ROOMTYPE) VALUES (j, 'basic');
    INSERT INTO ROOM (ROOMNUM, BASICPRICE, ROOMCAP) VALUES (j, 100, 2);
  END LOOP;
END;
/
BEGIN
  FOR k IN 1..50 LOOP
    INSERT INTO ROOMNUMBER (ROOMNUM, ROOMAVAIL) VALUES (k, 1);
  END LOOP;
END;
/
BEGIN
  FOR p IN 51..100 LOOP
    INSERT INTO ROOMNUMBER (ROOMNUM, ROOMAVAIL) VALUES (p, 0);
  END LOOP;
END;
/

INSERT INTO GUEST (GID, FNAME, LNAME, AGROUP)  VALUES(1, 'Markita', 'Risko', 1);
INSERT INTO GUEST (GID, FNAME, LNAME, AGROUP)  VALUES(2, 'Ivette', 'Lundberg', 2);
INSERT INTO GUEST (GID, FNAME, LNAME, AGROUP)  VALUES(3, 'Era', 'Brito', 3);
INSERT INTO GUEST (GID, FNAME, LNAME, AGROUP)  VALUES(4, 'Lavone', 'Dore', 1);
INSERT INTO GUEST (GID, FNAME, LNAME, AGROUP)  VALUES(5, 'Nikia', 'Smeltzer', 1);
INSERT INTO GUEST (GID, FNAME, LNAME, AGROUP)  VALUES(6, 'Bernice', 'Luque', 2);
INSERT INTO GUEST (GID, FNAME, LNAME, AGROUP)  VALUES(7, 'Cristine', 'Savage', 3);
INSERT INTO GUEST (GID, FNAME, LNAME, AGROUP)  VALUES(8, 'Lecia', 'Brough', 1);
INSERT INTO GUEST (GID, FNAME, LNAME, AGROUP)  VALUES(9, 'Kristy', 'Loden', 1);
INSERT INTO GUEST (GID, FNAME, LNAME, AGROUP)  VALUES(10, 'Lynette', 'Mccord', 2);
INSERT INTO GUEST (GID, FNAME, LNAME, AGROUP)  VALUES(11, 'Daren', 'Brann', 3);
INSERT INTO GUEST (GID, FNAME, LNAME, AGROUP)  VALUES(12, 'Wynona', 'Mcquire', 1);
INSERT INTO GUEST (GID, FNAME, LNAME, AGROUP)  VALUES(13, 'Fidel', 'Walkup', 1);
INSERT INTO GUEST (GID, FNAME, LNAME, AGROUP)  VALUES(14, 'Valeri', 'Channel', 2);
INSERT INTO GUEST (GID, FNAME, LNAME, AGROUP)  VALUES(15, 'Lovie', 'Urban', 3);
INSERT INTO GUEST (GID, FNAME, LNAME, AGROUP)  VALUES(16, 'Latosha', 'Ihle', 1);
INSERT INTO GUEST (GID, FNAME, LNAME, AGROUP)  VALUES(17, 'Robin', 'Slama', 1);
INSERT INTO GUEST (GID, FNAME, LNAME, AGROUP)  VALUES(18, 'Romelia', 'Slate', 2);
INSERT INTO GUEST (GID, FNAME, LNAME, AGROUP)  VALUES(19, 'Amal', 'Rackers', 3);
INSERT INTO GUEST (GID, FNAME, LNAME, AGROUP)  VALUES(20, 'Andres', 'McDuff', 1);

/*CHECKIN DATE BEFORE TODAY*/
INSERT INTO BOOKING (BID, GID, ROOMNUM, CINDATE, COUTDATE, NOG)   VALUES(1, 2, 1, TO_DATE('2010/03/30', 'yyyy/mm/dd'),TO_DATE('2010/03/30', 'yyyy/mm/dd'), 3);
INSERT INTO BOOKING (BID, GID, ROOMNUM, CINDATE, COUTDATE, NOG)   VALUES(2, 3, 2, TO_DATE('2012/04/01', 'yyyy/mm/dd'), TO_DATE('2010/03/30', 'yyyy/mm/dd'), 3);

/* CHECKIN DATE TODAY -> */

/*3 GUESTS, SUPERIOR ROOM*/
INSERT INTO BOOKING (BID, GID, ROOMNUM, CINDATE, COUTDATE, NOG)   VALUES(3, 4, 1, TO_DATE('2016/03/30', 'yyyy/mm/dd'), TO_DATE('2016/04/03', 'yyyy/mm/dd'), 3);
INSERT INTO BOOKING (BID, GID, ROOMNUM, CINDATE, COUTDATE, NOG)   VALUES(4, 5, 2, TO_DATE('2016/04/01', 'yyyy/mm/dd'), TO_DATE('2016/04/03', 'yyyy/mm/dd'), 3);
INSERT INTO BOOKING (BID, GID, ROOMNUM, CINDATE, COUTDATE, NOG)   VALUES(5, 6, 3, TO_DATE('2016/04/05', 'yyyy/mm/dd'), TO_DATE('2016/04/06', 'yyyy/mm/dd'), 3);
INSERT INTO BOOKING (BID, GID, ROOMNUM, CINDATE, COUTDATE, NOG)   VALUES(6, 7, 4, TO_DATE('2016/04/06', 'yyyy/mm/dd'), TO_DATE('2016/04/10', 'yyyy/mm/dd'), 3);
INSERT INTO BOOKING (BID, GID, ROOMNUM, CINDATE, COUTDATE, NOG)   VALUES(7, 8, 5, TO_DATE('2016/04/07', 'yyyy/mm/dd'), TO_DATE('2016/04/09', 'yyyy/mm/dd'), 3);

/*2 GUESTS, SUPERIOR ROOM*/
INSERT INTO BOOKING (BID, GID, ROOMNUM, CINDATE, COUTDATE, NOG)   VALUES(8, 9, 6, TO_DATE('2016/04/08', 'yyyy/mm/dd'), TO_DATE('2016/04/12', 'yyyy/mm/dd'), 2);
INSERT INTO BOOKING (BID, GID, ROOMNUM, CINDATE, COUTDATE, NOG)   VALUES(9, 10, 7, TO_DATE('2016/04/09', 'yyyy/mm/dd'), TO_DATE('2016/04/14', 'yyyy/mm/dd'), 2);

/*1 GUEST, SUPERIOR ROOM*/
INSERT INTO BOOKING (BID, GID, ROOMNUM, CINDATE, COUTDATE, NOG)   VALUES(10, 11, 8, TO_DATE('2016/03/30', 'yyyy/mm/dd'), TO_DATE('2016/04/05', 'yyyy/mm/dd'), 1);

/*2 GUESTS, DELUXE ROOM*/
INSERT INTO BOOKING (BID, GID, ROOMNUM, CINDATE, COUTDATE, NOG)   VALUES(11, 12, 34, TO_DATE('2016/04/05', 'yyyy/mm/dd'), TO_DATE('2016/04/10', 'yyyy/mm/dd'), 2);
INSERT INTO BOOKING (BID, GID, ROOMNUM, CINDATE, COUTDATE, NOG)   VALUES(12, 13, 35, TO_DATE('2016/04/06', 'yyyy/mm/dd'), TO_DATE('2016/04/08', 'yyyy/mm/dd'), 2);

/*1 GUEST, DELUXE ROOM*/
INSERT INTO BOOKING (BID, GID, ROOMNUM, CINDATE, COUTDATE, NOG)   VALUES(13, 14, 37, TO_DATE('2016/04/08', 'yyyy/mm/dd'), TO_DATE('2016/04/10', 'yyyy/mm/dd'), 1);

/*2 GUESTS, BASIC ROOM*/
INSERT INTO BOOKING (BID, GID, ROOMNUM, CINDATE, COUTDATE, NOG)   VALUES(14, 15, 67, TO_DATE('2016/10/05', 'yyyy/mm/dd'), TO_DATE('2016/10/09', 'yyyy/mm/dd'), 2);
INSERT INTO BOOKING (BID, GID, ROOMNUM, CINDATE, COUTDATE, NOG)   VALUES(15, 16, 68, TO_DATE('2016/08/19', 'yyyy/mm/dd'), TO_DATE('2016/08/22', 'yyyy/mm/dd'), 2);

/*1 GUEST, BASIC ROOM*/
INSERT INTO BOOKING (BID, GID, ROOMNUM, CINDATE, COUTDATE, NOG)   VALUES(16, 17, 70, TO_DATE('2016/09/03', 'yyyy/mm/dd'), TO_DATE('2016/09/09', 'yyyy/mm/dd'), 1);
INSERT INTO BOOKING (BID, GID, ROOMNUM, CINDATE, COUTDATE, NOG)   VALUES(17, 18, 71, TO_DATE('2016/12/24', 'yyyy/mm/dd'), TO_DATE('2016/12/25', 'yyyy/mm/dd'), 1);

INSERT INTO HOTEL (NORA, NORC) VALUES (SELECT COUNT(ROOMAVAIL) FROM ROOMNUMBER WHERE ROOMAVAIL='1', SELECT COUNT(ROOMAVAIL) FROM ROOMNUMBER WHERE ROOMAVAIL='0');
COMMIT

SET TERMOUT ON
PROMPT Demonstration table build is complete.
